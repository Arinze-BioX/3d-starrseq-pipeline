{"code": "gASVHgUAAAAAAAAoQyqXAHQBAAAAAAAAAAAAAGQBfA18EKwCpgMAAKsDAAAAAAAAAAABAGQAUwCUKIwFaW5wdXSUjAZvdXRwdXSUjAZwYXJhbXOUjAl3aWxkY2FyZHOUjAd0aHJlYWRzlIwJcmVzb3VyY2VzlIwDbG9nlIwEcnVsZZSMCWNvbmRhX2VudpSMDWNvbnRhaW5lcl9pbWeUjBBzaW5ndWxhcml0eV9hcmdzlIwPdXNlX3Npbmd1bGFyaXR5lIwLZW52X21vZHVsZXOUjAxiZW5jaF9yZWNvcmSUjAVqb2JpZJSMCGlzX3NoZWxslIwPYmVuY2hfaXRlcmF0aW9ulIwPY2xlYW51cF9zY3JpcHRzlIwKc2hhZG93X2RpcpSMDWVkaXRfbm90ZWJvb2uUjA9jb25kYV9iYXNlX3BhdGiUjAdiYXNlZGlylIwQc291cmNlY2FjaGVfcGF0aJSMGHJ1bnRpbWVfc291cmNlY2FjaGVfcGF0aJSMGF9faXNfc25ha2VtYWtlX3J1bGVfZnVuY5R0lF2UKE5YbwMAAApzZXQgK2V1CnNvdXJjZSAvZGF0YWNvbW1vbnMveWRpYW9sYWIvYXJpbnplL2FwcHMvbWluaWNvbmRhXzIwMjIwMTE4L2V0Yy9wcm9maWxlLmQvY29uZGEuc2gKY29uZGEgYWN0aXZhdGUgYmVkdG9vbHMKc2V0IC1ldQp6Y2F0IHtpbnB1dH0gfCBhd2sgLUYgJ1t0XScgJyAvXlteI10vIHt7IHByaW50ICQwIH19JyB8YmVkdG9vbHMgZ3JvdXBieSAtZyAyLTcgLWMgNSAtbyBjb3VudCB8YXdrICd7eyBwcmludCAkMSJcdCIkMiJcdCIkNSJcdCIkNyJcdCIkMSJfIiQyIl8iJDMiXyIkNCJcbiIkMyJcdCIkNCJcdCIkNiJcdCIkNyJcdCIkMSJfIiQyIl8iJDMiXyIkNCB9fScgfGF3ayAne3sgaWYgKCQzID09ICIrIikge3sgcHJpbnQgJDEiXHQiJDIiXHQiKCQyKzEpIlx0IiQ1Ilx0IiQ0Ilx0IiQzfX0gZWxzZSBpZiAoJDMgPT0gIi0iKSB7eyBwcmludCAkMSJcdCIoJDItMSkiXHQiJDIiXHQiJDUiXHQiJDQiXHQiJDN9fX19JyB8YmVkdG9vbHMgaW50ZXJzZWN0IC1hIHN0ZGluIC1iIC9kYXRhY29tbW9ucy95ZGlhb2xhYi9hcmluemUvVGhyZWVEX1NUQVJSc2VxL25ld19nZW5vbWVfZmlsZXMvaGczOF9ubGEzLmJlZCAtd2EgLXdiIHxhd2sgJ3t7IGlmICgkNiA9PSAiKyIpIHt7IHByaW50ICQxIlx0IiQyIlx0IiQ5Ilx0IiQ0Ilx0IiQ1Ilx0IiQ2IH19IGVsc2UgaWYgKCQ2ID09ICItIikge3sgcHJpbnQgJDEiXHQiJDgiXHQiJDMiXHQiJDQiXHQiJDUiXHQiJDYgfX0gfX0nIHxwYXN0ZSAtc2QgJ1x0XG4nIHwgYXdrICd7eyBpZigkNCA9PSAkMTApIHt7cHJpbnQgJDEiXHQiJDIiXHQiJDMiXHQiJDciXHQiJDgiXHQiJDkiXHQiJDEiXyIkMiJfIiQzIi0iJDciXyIkOCJfIiQ5Ilx0IiQ1Ilx0IiQ2Ilx0IiQxMn19IH19JyA+IHtvdXRwdXR9IDI+IHtsb2d9CpRoDmgRhpRljAVzaGVsbJSFlHSULg==", "rule": "count_duplicate_pairs", "input": ["pairs-hg38/GM_DNA_R2R1_rep2.selected.pairs.gz"], "log": ["00_log/GM_DNA_R2R1_rep2_hg38_count_finalBed.bedtools_groupby"], "params": [], "shellcmd": "\nset +eu\nsource /datacommons/ydiaolab/arinze/apps/miniconda_20220118/etc/profile.d/conda.sh\nconda activate bedtools\nset -eu\nzcat pairs-hg38/GM_DNA_R2R1_rep2.selected.pairs.gz | awk -F '[t]' ' /^[^#]/ { print $0 }' |bedtools groupby -g 2-7 -c 5 -o count |awk '{ print $1\"\\t\"$2\"\\t\"$5\"\\t\"$7\"\\t\"$1\"_\"$2\"_\"$3\"_\"$4\"\\n\"$3\"\\t\"$4\"\\t\"$6\"\\t\"$7\"\\t\"$1\"_\"$2\"_\"$3\"_\"$4 }' |awk '{ if ($3 == \"+\") { print $1\"\\t\"$2\"\\t\"($2+1)\"\\t\"$5\"\\t\"$4\"\\t\"$3} else if ($3 == \"-\") { print $1\"\\t\"($2-1)\"\\t\"$2\"\\t\"$5\"\\t\"$4\"\\t\"$3}}' |bedtools intersect -a stdin -b /datacommons/ydiaolab/arinze/ThreeD_STARRseq/new_genome_files/hg38_nla3.bed -wa -wb |awk '{ if ($6 == \"+\") { print $1\"\\t\"$2\"\\t\"$9\"\\t\"$4\"\\t\"$5\"\\t\"$6 } else if ($6 == \"-\") { print $1\"\\t\"$8\"\\t\"$3\"\\t\"$4\"\\t\"$5\"\\t\"$6 } }' |paste -sd '\\t\\n' | awk '{ if($4 == $10) {print $1\"\\t\"$2\"\\t\"$3\"\\t\"$7\"\\t\"$8\"\\t\"$9\"\\t\"$1\"_\"$2\"_\"$3\"-\"$7\"_\"$8\"_\"$9\"\\t\"$5\"\\t\"$6\"\\t\"$12} }' > final_bed-hg38/GM_DNA_R2R1_rep2_unique_pairs_with_counts.bed 2> 00_log/GM_DNA_R2R1_rep2_hg38_count_finalBed.bedtools_groupby\n", "incomplete": false, "starttime": 1722536838.224927, "endtime": 1722537412.3725383, "job_hash": 8792043985598, "conda_env": null, "container_img_url": null, "input_checksums": {}}